<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <title>Lottery Demo</title>
    <link rel="stylesheet" type="text/css" href="../bootstrap-3.3.5-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../bootstrap-3.3.5-dist/css/bootstrap-theme.min.css">
    <script src="../pub/jquery-1.11.3.min.js"></script>
    <script src="../bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
    <style type="text/css">

#drawPercent {
	color: #F60;
}

</style>
    <script src="Lottery.js"></script>
    <script>
		var persons=["张毅","张进成","赵琴","赵斌斌","明超"];
		function getRandomPersons(){
			var r =  Math.random()*persons.length;
			var selectedName= persons[Math.floor(r)];
			
			persons.splice( r,1);
			return selectedName
		}
		
		
        window.onload = function () {
            var lottery1 = new Lottery({
				conId:'lotteryContainer1', 
				lottery:getRandomPersons(),
				lotteryType:"text",
				coverText:"",
				drawPercentCallback:drawPercent
				});
            lottery1.init();

			var lottery2 = new Lottery({
				conId:'lotteryContainer2',
				lottery:getRandomPersons(),
				lotteryType:"text", 
				drawPercentCallback:drawPercent
				});
				
            lottery2.init();
			
			var lottery3 = new Lottery({
				conId:'lotteryContainer3', 
				lottery:getRandomPersons(),
				lotteryType:"text", 
				drawPercentCallback:drawPercent
				});
            lottery3.init();
			
			var lottery4 = new Lottery({
				conId:'lotteryContainer4', 
				lottery:getRandomPersons(),
				lotteryType:"text", 
				drawPercentCallback:drawPercent
				});
            lottery4.init();

			var lottery5 = new Lottery({
				conId:'lotteryContainer5', 
				lottery:getRandomPersons(),
				lotteryType:"text", 
				drawPercentCallback:drawPercent
				});
            lottery5.init();
			
			
            document.getElementById('freshBtn').onclick = function () {
                drawPercentNode.innerHTML = '0%';
                lottery1.init(getRandomStr(10), 'text');
			    lottery2.init(getRandomStr(10), 'text');
				lottery3.init(getRandomStr(10), 'text');
				lottery4.init(getRandomStr(10), 'text');
			    lottery5.init(getRandomStr(10), 'text');

            }

            var drawPercentNode = document.getElementById('drawPercent');

            function drawPercent(percent) {
                drawPercentNode.innerHTML = percent + '%';
            }
        }

        function getRandomStr(len) {
            var text = "";
            var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
			persons=["张毅","张进成","赵琴","赵斌斌","明超"];
            for (var i = 0; i < len; i++)
                text += possible.charAt(Math.floor(Math.random() * possible.length));
            return text;
        }
    </script>
    </head>
    <body>
    <div class=".container-fluid" style="padding:15px">
     <!-- <button id="freshBtn" class="btn">刷新</button>-->
   
      <label style="display:none">已刮开 <span id="drawPercent">0%</span> 区域。</label>
      <div>
       
        <div class="row" style="height:150px;" >
          <div  class="col-lg-2 col-sm-1" ></div>
            <div id="lotteryContainer1" class="col-lg-4 col-sm-5"> </div>
          	<div id="lotteryContainer2" class="col-lg-4 col-sm-5"></div>
           <div  class="col-lg-2 col-sm-1" ></div>
        </div>
         <div class="row"  style="height:150px">
          <div id="lotteryContainer4" class="col-lg-4 col-sm-4" ></div>
          <div id="lotteryContainer5" class="col-lg-4 col-sm-4"></div>
          <div id="lotteryContainer3" class="col-lg-4 col-sm-4"></div>
        </div>
      </div>
    </div>
</body>
</html>
